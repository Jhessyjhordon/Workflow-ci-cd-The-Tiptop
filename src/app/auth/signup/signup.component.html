<section class="d-flex flex-column align-items-center justify-content-center min-vh-100">
  <div class="container">

    <div class="col-md-12 d-flex flex-column align-items-center justify-content-center py-5 ">
      <div
        class="d-flex flex-column align-items-center justify-content-center text-center w-100 p-4 rounded-5 main-container">

        <h1 class="text-break">Inscription</h1>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="w-100">
          <div class="row p-4">
            <div class="col px-md-5">
              <div *ngIf="submissionResult"
                class="m-0 alert {{submissionResult.success? 'alert-success' : 'alert-danger' }}">
                {{ submissionResult.message }}
              </div>
            </div>
          </div>
          <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 p-md-4">

            <div class="col px-md-5">
              <!-- Afficher les erreurs pour le champ 'Name' -->
              <div *ngIf="loginForm.get('lastname')?.invalid && loginForm.get('lastname')?.touched" class="text-danger">
                <div *ngIf="loginForm.get('lastname')?.errors?.['required']" class="text-start">
                  Le nom est requis.
                </div>
                <div *ngIf="loginForm.get('lastname')?.errors?.['pattern']" class="text-start">
                  Le nom doit être une adresse e-mail valide (exemple@domaine.com).
                </div>
              </div>
              <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-5" placeholder="Nom" id="floatingInputLstName"
                  formControlName="lastname" />
                <label for="floatingInputLstName">Nom</label>
              </div>
            </div>
            <div class="col px-md-5">
              <!-- Afficher les erreurs pour le champ 'phone' -->
              <div *ngIf="loginForm.get('phone')?.invalid && loginForm.get('phone')?.touched" class="text-danger">
                <div *ngIf="loginForm.get('phone')?.errors?.['required']" class="text-start">
                  Le numéro de teléphone est requis.
                </div>
                <div *ngIf="loginForm.get('phone')?.errors?.['pattern']" class="text-start">
                  Le numéro de teléphone doit contenir uniquement des caractères alphabétiques, des chiffres,
                  des espaces et des caractères spéciaux tels que , . : ; ? ! / - ' € $ £, et
                  avoir une longueur maximale de 50 caractères.
                </div>
              </div>
              <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-5" placeholder="Teléphone" id="floatingInputPhone"
                  formControlName="phone" />
                <label for="floatingInputPhone">Teléphone</label>
              </div>
            </div>

            <div class="col px-md-5">
              <!-- Afficher les erreurs pour le champ 'password' -->
              <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="text-danger">
                <div *ngIf="loginForm.get('password')?.errors?.['required']" class="text-start">
                  Le mot de passe est requis.
                </div>
                <div *ngIf="loginForm.get('password')?.errors?.['pattern']" class="text-start">
                  Le mot de passe doit contenir uniquement des caractères alphabétiques, des chiffres,
                  des espaces et des caractères spéciaux tels que , . : ; ? ! / - ' € $ £, et
                  avoir une longueur maximale de 50 caractères.
                </div>
              </div>
              <div class="form-floating mb-3">
                <input type="password" class="form-control rounded-5" placeholder="Mot de passe .."
                  id="floatingInputPsw" formControlName="password" />
                <label for="floatingInputPsw">Mot de passe</label>
              </div>
            </div>
            <div class="col px-md-5">
              <!-- Afficher les erreurs pour le champ 'firstname' -->
              <div *ngIf="loginForm.get('firstname')?.invalid && loginForm.get('firstname')?.touched" class="text-danger">
                <div *ngIf="loginForm.get('firstname')?.errors?.['required']" class="text-start">
                  Le prénom est requis.
                </div>
                <div *ngIf="loginForm.get('firstname')?.errors?.['pattern']" class="text-start">
                  Le prénom doit contenir uniquement des caractères alphabétiques, des chiffres,
                  des espaces et des caractères spéciaux tels que , . : ; ? ! / - ' € $ £, et
                  avoir une longueur maximale de 50 caractères.
                </div>
              </div>
              <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-5" placeholder="Prénom"
                  id="floatingInputFstName" formControlName="firstname" />
                <label for="floatingInputFstName">Prénom</label>
              </div>
            </div>
            <div class="col px-md-5">
              <!-- Afficher les erreurs pour le champ 'E-mail' -->
              <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="text-danger">
                <div *ngIf="loginForm.get('email')?.errors?.['required']" class="text-start">
                  L'e-mail est requis.
                </div>
                <div *ngIf="loginForm.get('email')?.errors?.['pattern']" class="text-start">
                  L'e-mail doit être une adresse e-mail valide (exemple@domaine.com).
                </div>
              </div>
              <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-5" placeholder="Mail" id="floatingInputMail"
                  formControlName="email" />
                <label for="floatingInputMail">Mail</label>
              </div>
            </div>
            <div class="col px-md-5">
              <!-- Afficher les erreurs pour le champ 'confirmPassword' -->
              <div *ngIf="loginForm.get('confirmPassword')?.invalid && loginForm.get('confirmPassword')?.touched" class="text-danger">
                <div *ngIf="loginForm.get('confirmPassword')?.errors?.['required']" class="text-start">
                  La confirmation du mot de passe est requis.
                </div>
                <div *ngIf="loginForm.get('confirmPassword')?.errors?.['pattern']" class="text-start">
                  Le mot de passe doit contenir uniquement des caractères alphabétiques, des chiffres,
                  des espaces et des caractères spéciaux tels que , . : ; ? ! / - ' € $ £, et
                  avoir une longueur maximale de 50 caractères.
                </div>
              </div>
              <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-5" placeholder="Confirmer le mot de passe .."
                  id="floatingInputConfirmPsw" />
                <label for="floatingInputConfirmPsw">Confirmer le mot de passe</label>
              </div>
            </div>

          </div>
          <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 p-4 d-flex justify-content-center">

            <div class="col px-md-5  order-0 order-lg-0">
              <p class="mt-2 text-body-secondary"><a [routerLink]="'../login'">Déjà inscrit ?</a> ou revenez sur la <a [routerLink]="'/home'">page d'accueil</a>. </p>
            </div>

            <div class="col d-flex flex-column align-items-center justify-content-center order-2 order-lg-1">
              <div class="">
                <button type="submit" class="btn btn-green fw-bold custom-bg-shadow py-3 px-4 px-sm-5 rounded-5 "
                  [disabled]="formSubmitted && loginForm.invalid">
                  CONNEXION
                </button>
              </div>
            </div>

            <div class="col px-md-5  order-1 order-lg-2">
              <p class="mt-2 text-body-secondary"><a [routerLink]="'../signup'">S'inscrire avec google</a> </p>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
</section>